{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"142924","self":"http://jira.codehaus.org/rest/api/latest/issue/142924","key":"PLXUTILS-156","fields":{"progress":{"progress":0,"total":0},"summary":"Cannot set environment variables under OSX","timetracking":{},"issuetype":{"self":"http://jira.codehaus.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"http://jira.codehaus.org/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"customfield_10110":null,"votes":{"self":"http://jira.codehaus.org/rest/api/2/issue/PLXUTILS-156/votes","votes":0,"hasVoted":false},"resolution":{"self":"http://jira.codehaus.org/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"fixVersions":[{"self":"http://jira.codehaus.org/rest/api/2/version/19006","id":"19006","name":"3.0.10","archived":false,"released":true,"releaseDate":"2012-11-28"}],"resolutiondate":"2012-12-19T23:55:30.320-0600","customfield_10210":"0.0","timespent":null,"reporter":{"self":"http://jira.codehaus.org/rest/api/2/user?username=cowwoc","name":"cowwoc","emailAddress":"cowwoc@bbs.darktech.org","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Gili","active":true},"aggregatetimeoriginalestimate":null,"customfield_10161":["cowwoc(cowwoc)","krosenvold(krosenvold)"],"customfield_10160":null,"updated":"2012-12-20T01:26:12.573-0600","created":"2012-12-19T23:19:39.329-0600","description":"When I attempt to perform releases under OSX I get the following exception:\r\n\r\n{code}\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-release-plugin:2.1:perform (default-cli) on project cmake: An error is occurred in the checkout process: Exception while executing SCM command.\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:217)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320)\r\n\tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\r\n\tat org.jvnet.hudson.maven3.launcher.Maven3Launcher.main(Maven3Launcher.java:79)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:601)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launchStandard(Launcher.java:329)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:239)\r\n\tat org.jvnet.hudson.maven3.agent.Maven3Main.launch(Maven3Main.java:158)\r\n\tat hudson.maven.Maven3Builder.call(Maven3Builder.java:98)\r\n\tat hudson.maven.Maven3Builder.call(Maven3Builder.java:64)\r\n\tat hudson.remoting.UserRequest.perform(UserRequest.java:118)\r\n\tat hudson.remoting.UserRequest.perform(UserRequest.java:48)\r\n\tat hudson.remoting.Request$2.run(Request.java:326)\r\n\tat hudson.remoting.InterceptingExecutorService$1.call(InterceptingExecutorService.java:72)\r\n\tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:166)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\r\n\tat java.lang.Thread.run(Thread.java:722)\r\nCaused by: org.apache.maven.plugin.MojoExecutionException: An error is occurred in the checkout process: Exception while executing SCM command.\r\n\tat org.apache.maven.plugins.release.PerformReleaseMojo.execute(PerformReleaseMojo.java:136)\r\n\tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)\r\n\t... 27 more\r\nCaused by: org.apache.maven.shared.release.ReleaseExecutionException: An error is occurred in the checkout process: Exception while executing SCM command.\r\n\tat org.apache.maven.shared.release.phase.CheckoutProjectFromScm.execute(CheckoutProjectFromScm.java:151)\r\n\tat org.apache.maven.shared.release.DefaultReleaseManager.perform(DefaultReleaseManager.java:343)\r\n\tat org.apache.maven.shared.release.DefaultReleaseManager.perform(DefaultReleaseManager.java:289)\r\n\tat org.apache.maven.shared.release.DefaultReleaseManager.perform(DefaultReleaseManager.java:269)\r\n\tat org.apache.maven.plugins.release.PerformReleaseMojo.execute(PerformReleaseMojo.java:132)\r\n\t... 29 more\r\nCaused by: org.apache.maven.scm.ScmException: Exception while executing SCM command.\r\n\tat org.apache.maven.scm.command.AbstractCommand.execute(AbstractCommand.java:63)\r\n\tat org.apache.maven.scm.provider.hg.HgScmProvider.checkout(HgScmProvider.java:230)\r\n\tat org.apache.maven.scm.provider.AbstractScmProvider.checkOut(AbstractScmProvider.java:426)\r\n\tat org.apache.maven.scm.provider.AbstractScmProvider.checkOut(AbstractScmProvider.java:403)\r\n\tat org.apache.maven.shared.release.phase.CheckoutProjectFromScm.execute(CheckoutProjectFromScm.java:143)\r\n\t... 33 more\r\nCaused by: org.apache.maven.scm.ScmException: Command could not be executed: /bin/sh -c cd /Users/builds/.jenkins/workspace/cmake/target && hg clone -r release-2.8.10-b1 https://cmake-maven-project.googlecode.com/hg/ /Users/builds/.jenkins/workspace/cmake/target/checkout\r\n\tat org.apache.maven.scm.provider.hg.HgUtils.executeCmd(HgUtils.java:163)\r\n\tat org.apache.maven.scm.provider.hg.HgUtils.execute(HgUtils.java:85)\r\n\tat org.apache.maven.scm.provider.hg.command.checkout.HgCheckOutCommand.executeCheckOutCommand(HgCheckOutCommand.java:78)\r\n\tat org.apache.maven.scm.command.checkout.AbstractCheckOutCommand.executeCommand(AbstractCheckOutCommand.java:81)\r\n\tat org.apache.maven.scm.command.AbstractCommand.execute(AbstractCommand.java:59)\r\n\t... 37 more\r\nCaused by: org.codehaus.plexus.util.cli.CommandLineException: Error setting up environmental variables\r\n\tat org.codehaus.plexus.util.cli.Commandline.getEnvironmentVariables(Commandline.java:468)\r\n\tat org.codehaus.plexus.util.cli.Commandline.execute(Commandline.java:630)\r\n\tat org.codehaus.plexus.util.cli.CommandLineUtils.executeCommandLine(CommandLineUtils.java:118)\r\n\tat org.codehaus.plexus.util.cli.CommandLineUtils.executeCommandLine(CommandLineUtils.java:93)\r\n\tat org.apache.maven.scm.provider.hg.HgUtils.executeCmd(HgUtils.java:159)\r\n\t... 41 more\r\nCaused by: java.io.IOException: Cannot run program \"env\": error=2, No such file or directory\r\n\tat java.lang.ProcessBuilder.start(ProcessBuilder.java:1029)\r\n\tat java.lang.Runtime.exec(Runtime.java:615)\r\n\tat java.lang.Runtime.exec(Runtime.java:448)\r\n\tat java.lang.Runtime.exec(Runtime.java:345)\r\n\tat org.codehaus.plexus.util.cli.CommandLineUtils.getSystemEnvVars(CommandLineUtils.java:260)\r\n\tat org.codehaus.plexus.util.cli.CommandLineUtils.getSystemEnvVars(CommandLineUtils.java:226)\r\n\tat org.codehaus.plexus.util.cli.Commandline.addSystemEnvironment(Commandline.java:444)\r\n\tat org.codehaus.plexus.util.cli.Commandline.getEnvironmentVariables(Commandline.java:464)\r\n\t... 45 more\r\nCaused by: java.io.IOException: error=2, No such file or directory\r\n\tat java.lang.UNIXProcess.forkAndExec(Native Method)\r\n\tat java.lang.UNIXProcess.<init>(UNIXProcess.java:135)\r\n\tat java.lang.ProcessImpl.start(ProcessImpl.java:130)\r\n\tat java.lang.ProcessBuilder.start(ProcessBuilder.java:1021)\r\n\t... 52 more\r\n{code}\r\n\r\nAs you can see, the release plugin depends on Plexus Utils and it fails trying to set environment variables.","priority":{"self":"http://jira.codehaus.org/rest/api/2/priority/3","iconUrl":"http://jira.codehaus.org/images/icons/priorities/major.png","name":"Major","id":"3"},"duedate":null,"issuelinks":[],"customfield_10163":"65318400","watches":{"self":"http://jira.codehaus.org/rest/api/2/issue/PLXUTILS-156/watchers","watchCount":2,"isWatching":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"subtasks":[],"status":{"self":"http://jira.codehaus.org/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"http://jira.codehaus.org/images/icons/statuses/closed.png","name":"Closed","id":"6"},"customfield_10090":null,"labels":[],"workratio":-1,"assignee":{"self":"http://jira.codehaus.org/rest/api/2/user?username=krosenvold","name":"krosenvold","emailAddress":"krosenvold@apache.org","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&ownerId=krosenvold&avatarId=11127","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&ownerId=krosenvold&avatarId=11127","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&ownerId=krosenvold&avatarId=11127","48x48":"http://jira.codehaus.org/secure/useravatar?ownerId=krosenvold&avatarId=11127"},"displayName":"Kristian Rosenvold","active":true},"attachment":[],"customfield_10221":null,"customfield_10220":null,"customfield_10200":null,"aggregatetimeestimate":null,"customfield_10190":null,"project":{"self":"http://jira.codehaus.org/rest/api/2/project/11432","id":"11432","key":"PLXUTILS","name":"Plexus Utils","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/projectavatar?size=xsmall&pid=11432&avatarId=10011","24x24":"http://jira.codehaus.org/secure/projectavatar?size=small&pid=11432&avatarId=10011","32x32":"http://jira.codehaus.org/secure/projectavatar?size=medium&pid=11432&avatarId=10011","48x48":"http://jira.codehaus.org/secure/projectavatar?pid=11432&avatarId=10011"},"projectCategory":{"self":"http://jira.codehaus.org/rest/api/2/projectCategory/10003","id":"10003","description":"various containers","name":"containers"}},"versions":[{"self":"http://jira.codehaus.org/rest/api/2/version/18877","id":"18877","name":"3.0.8","archived":false,"released":true,"releaseDate":"2012-09-20"}],"customfield_10170":null,"environment":"OSX 10.8.2","timeestimate":null,"customfield_10130":null,"aggregateprogress":{"progress":0,"total":0},"lastViewed":null,"components":[],"comment":{"startAt":0,"maxResults":4,"total":4,"comments":[{"self":"http://jira.codehaus.org/rest/api/2/issue/142924/comment/315978","id":"315978","author":{"self":"http://jira.codehaus.org/rest/api/2/user?username=cowwoc","name":"cowwoc","emailAddress":"cowwoc@bbs.darktech.org","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Gili","active":true},"body":"According to http://youtrack.jetbrains.com/issue/IDEA-52448 \"env\" might not in the PATH. In my case, I see it in /usr/bin/env. It *seems* to be on my PATH.","updateAuthor":{"self":"http://jira.codehaus.org/rest/api/2/user?username=cowwoc","name":"cowwoc","emailAddress":"cowwoc@bbs.darktech.org","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Gili","active":true},"created":"2012-12-19T23:49:37.041-0600","updated":"2012-12-19T23:49:37.041-0600"},{"self":"http://jira.codehaus.org/rest/api/2/issue/142924/comment/315979","id":"315979","author":{"self":"http://jira.codehaus.org/rest/api/2/user?username=krosenvold","name":"krosenvold","emailAddress":"krosenvold@apache.org","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&ownerId=krosenvold&avatarId=11127","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&ownerId=krosenvold&avatarId=11127","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&ownerId=krosenvold&avatarId=11127","48x48":"http://jira.codehaus.org/secure/useravatar?ownerId=krosenvold&avatarId=11127"},"displayName":"Kristian Rosenvold","active":true},"body":"This issue is already fixed for 3.0.10, you can upgrade the dependency in the plugin","updateAuthor":{"self":"http://jira.codehaus.org/rest/api/2/user?username=krosenvold","name":"krosenvold","emailAddress":"krosenvold@apache.org","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&ownerId=krosenvold&avatarId=11127","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&ownerId=krosenvold&avatarId=11127","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&ownerId=krosenvold&avatarId=11127","48x48":"http://jira.codehaus.org/secure/useravatar?ownerId=krosenvold&avatarId=11127"},"displayName":"Kristian Rosenvold","active":true},"created":"2012-12-19T23:55:30.596-0600","updated":"2012-12-19T23:55:30.596-0600"},{"self":"http://jira.codehaus.org/rest/api/2/issue/142924/comment/315980","id":"315980","author":{"self":"http://jira.codehaus.org/rest/api/2/user?username=cowwoc","name":"cowwoc","emailAddress":"cowwoc@bbs.darktech.org","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Gili","active":true},"body":"Hi Kristian,\r\n\r\nThank you for the quick reply. How do I upgrade the dependency in the plugin (seeing as I did not author it)?","updateAuthor":{"self":"http://jira.codehaus.org/rest/api/2/user?username=cowwoc","name":"cowwoc","emailAddress":"cowwoc@bbs.darktech.org","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Gili","active":true},"created":"2012-12-19T23:59:57.982-0600","updated":"2012-12-19T23:59:57.982-0600"},{"self":"http://jira.codehaus.org/rest/api/2/issue/142924/comment/315982","id":"315982","author":{"self":"http://jira.codehaus.org/rest/api/2/user?username=cowwoc","name":"cowwoc","emailAddress":"cowwoc@bbs.darktech.org","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Gili","active":true},"body":"Here is what worked for me (in case anyone else runs across this bug report). Simply add this to your pom.xml file:\r\n\r\n{code}\r\n            <plugin>\r\n                <groupId>org.apache.maven.plugins</groupId>\r\n                <artifactId>maven-release-plugin</artifactId>\r\n                <version>2.4</version>\r\n                <dependencies>\r\n                    <dependency>\r\n                        <groupId>org.codehaus.plexus</groupId>\r\n                        <artifactId>plexus-utils</artifactId>\r\n                        <version>3.0.10</version>\r\n                    </dependency>\r\n                </dependencies>\r\n            </plugin>\r\n{code}","updateAuthor":{"self":"http://jira.codehaus.org/rest/api/2/user?username=cowwoc","name":"cowwoc","emailAddress":"cowwoc@bbs.darktech.org","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Gili","active":true},"created":"2012-12-20T01:26:12.453-0600","updated":"2012-12-20T01:26:12.453-0600"}]},"timeoriginalestimate":null,"aggregatetimespent":null}}