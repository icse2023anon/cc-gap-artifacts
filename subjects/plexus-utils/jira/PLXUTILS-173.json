{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"158513","self":"http://jira.codehaus.org/rest/api/latest/issue/158513","key":"PLXUTILS-173","fields":{"progress":{"progress":0,"total":0},"summary":"CLONE - FileUtils.copyFile() ignores 'overwrite' when 'wrappers' (FilterWrappers[]) is non-empty","timetracking":{},"issuetype":{"self":"http://jira.codehaus.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"http://jira.codehaus.org/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"customfield_10110":null,"votes":{"self":"http://jira.codehaus.org/rest/api/2/issue/PLXUTILS-173/votes","votes":0,"hasVoted":false},"resolution":null,"fixVersions":[],"resolutiondate":null,"customfield_10210":"0.0","timespent":null,"reporter":{"self":"http://jira.codehaus.org/rest/api/2/user?username=ntshko","name":"ntshko","emailAddress":"hannes.kogler@ntswincash.com","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Hannes Kogler","active":true},"aggregatetimeoriginalestimate":null,"customfield_10161":["ntshko(ntshko)"],"customfield_10160":null,"updated":"2014-12-16T06:01:15.191-0600","created":"2014-12-16T05:51:56.469-0600","description":"maven-resource-plugin is copying a resource even if it is unchanged and 'overwrite' is false.  See http://stackoverflow.com/questions/3970157/is-there-a-way-to-force-maven-to-copy-resource-folder-changes-incrementally/5914467#5914467\r\n\r\nI chased the problem down to org.codehaus.plexus.util.FileUtils.copyFile() method. It is this method that is called by the maven-resource-plugin to ultimately copy the resource; the copyFile() method takes an 'overwrite' parameter, which the resource-plugin does pass in (and the default is indeed false), BUT...\r\n\r\nThe copyFile() method ignores the 'overwrite' parameter if the list of filter-wrappers passed is non-empty! And if you have filtering set to true for your resources, this list is indeed non-empty.\r\n\r\nI can understand the reasoning behind copyFile() ignoring the 'overwrite': just because the destination file is newer does not mean that new filtered-file will be the same (i.e. the values for the variables in your resource file may have been changed since the last filtering). \r\nIgnoring the 'overwrite' flag is \"convenient\" for the FileUtils implementor. But this comes at a great price; a single resource file unnecessarily updated can trigger off time-consuming but redundant processes (i.e. rebuilding a jar-with-dependencies in my case). This may only be a few seconds but can be enough to disrupt the flow of an intensive code-compile-test cycle.\r\n","priority":{"self":"http://jira.codehaus.org/rest/api/2/priority/2","iconUrl":"http://jira.codehaus.org/images/icons/priorities/critical.png","name":"Critical","id":"2"},"duedate":null,"issuelinks":[{"id":"36320","self":"http://jira.codehaus.org/rest/api/2/issueLink/36320","type":{"id":"10010","name":"Related","inward":"is related to","outward":"relates to","self":"http://jira.codehaus.org/rest/api/2/issueLinkType/10010"},"inwardIssue":{"id":"125181","key":"PLXUTILS-139","self":"http://jira.codehaus.org/rest/api/2/issue/125181","fields":{"summary":"FileUtils.copyFile() ignores 'overwrite' when 'wrappers' (FilterWrappers[]) is non-empty","status":{"self":"http://jira.codehaus.org/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"http://jira.codehaus.org/images/icons/statuses/closed.png","name":"Closed","id":"6"},"priority":{"self":"http://jira.codehaus.org/rest/api/2/priority/3","iconUrl":"http://jira.codehaus.org/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"http://jira.codehaus.org/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"http://jira.codehaus.org/images/icons/issuetypes/bug.png","name":"Bug","subtask":false}}}}],"customfield_10163":"2592000","watches":{"self":"http://jira.codehaus.org/rest/api/2/issue/PLXUTILS-173/watchers","watchCount":4,"isWatching":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"subtasks":[],"status":{"self":"http://jira.codehaus.org/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"http://jira.codehaus.org/images/icons/statuses/open.png","name":"Open","id":"1"},"customfield_10090":null,"labels":[],"workratio":-1,"assignee":null,"attachment":[],"customfield_10221":null,"customfield_10220":null,"customfield_10200":null,"aggregatetimeestimate":null,"customfield_10190":null,"project":{"self":"http://jira.codehaus.org/rest/api/2/project/11432","id":"11432","key":"PLXUTILS","name":"Plexus Utils","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/projectavatar?size=xsmall&pid=11432&avatarId=10011","24x24":"http://jira.codehaus.org/secure/projectavatar?size=small&pid=11432&avatarId=10011","32x32":"http://jira.codehaus.org/secure/projectavatar?size=medium&pid=11432&avatarId=10011","48x48":"http://jira.codehaus.org/secure/projectavatar?pid=11432&avatarId=10011"},"projectCategory":{"self":"http://jira.codehaus.org/rest/api/2/projectCategory/10003","id":"10003","description":"various containers","name":"containers"}},"versions":[{"self":"http://jira.codehaus.org/rest/api/2/version/17149","id":"17149","description":"","name":"2.0.7","archived":false,"released":true,"releaseDate":"2011-03-03"},{"self":"http://jira.codehaus.org/rest/api/2/version/19535","id":"19535","name":"3.0.15","archived":false,"released":true,"releaseDate":"2013-08-19"}],"customfield_10170":null,"environment":"Windows","timeestimate":null,"customfield_10130":null,"aggregateprogress":{"progress":0,"total":0},"lastViewed":null,"components":[],"comment":{"startAt":0,"maxResults":1,"total":1,"comments":[{"self":"http://jira.codehaus.org/rest/api/2/issue/158513/comment/359151","id":"359151","author":{"self":"http://jira.codehaus.org/rest/api/2/user?username=ntshko","name":"ntshko","emailAddress":"hannes.kogler@ntswincash.com","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Hannes Kogler","active":true},"body":"this problem still exists, and makes maven UNUSABLE in IDEs like Eclipse (m2e) for big projects with many child module projects, because of *build times of over 30min and more* for just one single change!\r\n\r\nThere should be an option to the resources plugin where you can set if the overwrite flag should work or not.\r\n\r\nThis is the Maven output logging of the senseless automated triggered maven-resource-plugin for EVERY project on the workspace, just because of the described bug here.\r\n\r\n{color:blue}\r\n12/16/14, 12:55:54 PM GMT+1: [INFO] Using 'UTF-8' encoding to copy filtered resources.\r\n12/16/14, 12:55:54 PM GMT+1: [INFO] Copying 0 resource\r\n12/16/14, 12:55:55 PM GMT+1: [INFO] Using 'UTF-8' encoding to copy filtered resources.\r\n12/16/14, 12:55:55 PM GMT+1: [INFO] Copying 0 resource\r\n12/16/14, 12:55:57 PM GMT+1: [INFO] Using 'UTF-8' encoding to copy filtered resources.\r\n12/16/14, 12:55:57 PM GMT+1: [INFO] Copying 0 resource\r\n12/16/14, 12:55:58 PM GMT+1: [INFO] Using 'UTF-8' encoding to copy filtered resources.\r\n12/16/14, 12:55:58 PM GMT+1: [INFO] Copying 1 resource\r\n12/16/14, 12:56:00 PM GMT+1: [INFO] Using 'UTF-8' encoding to copy filtered resources.\r\n12/16/14, 12:56:00 PM GMT+1: [INFO] Copying 0 resource\r\n12/16/14, 12:56:00 PM GMT+1: [INFO] Copying 0 resource\r\n12/16/14, 12:56:00 PM GMT+1: [INFO] Using 'UTF-8' encoding to copy filtered resources.\r\n12/16/14, 12:56:00 PM GMT+1: [INFO] Copying 0 resource\r\n12/16/14, 12:56:00 PM GMT+1: [INFO] Copying 0 resource\r\n12/16/14, 12:56:02 PM GMT+1: [INFO] Using 'UTF-8' encoding to copy filtered resources.\r\n12/16/14, 12:56:02 PM GMT+1: [INFO] Copying 0 resource\r\n{color}","updateAuthor":{"self":"http://jira.codehaus.org/rest/api/2/user?username=ntshko","name":"ntshko","emailAddress":"hannes.kogler@ntswincash.com","avatarUrls":{"16x16":"http://jira.codehaus.org/secure/useravatar?size=xsmall&avatarId=10232","24x24":"http://jira.codehaus.org/secure/useravatar?size=small&avatarId=10232","32x32":"http://jira.codehaus.org/secure/useravatar?size=medium&avatarId=10232","48x48":"http://jira.codehaus.org/secure/useravatar?avatarId=10232"},"displayName":"Hannes Kogler","active":true},"created":"2014-12-16T05:54:31.816-0600","updated":"2014-12-16T05:58:48.157-0600"}]},"timeoriginalestimate":null,"aggregatetimespent":null}}